import{j as e,r as m,L as S}from"./app-DgFN-T0p.js";import{L as j,I as A}from"./label-De7Ydqrb.js";import{c as D,a as L,B as u}from"./app-logo-icon-DFO7IgS1.js";import{I as g}from"./input-DvKc0J5m.js";import{P as F}from"./placeholder-pattern-DAi9OwKF.js";import{A as E}from"./app-layout-CzxtPhQB.js";import{L as b}from"./loader-circle-DNSIA1aG.js";import"./index-DZXRyeE0.js";import"./index-CcgBr0v-.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],w=D("Download",I);function P({className:r,...c}){return e.jsx("textarea",{"data-slot":"textarea",className:L("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),...c})}const O=[{title:"Text to Speech",href:"/text-to-speech"}];function H(){const[r,c]=m.useState(!1),[R,h]=m.useState(null),[l,v]=m.useState({audioToAudio:"",audioToText:"",textToAudio:""}),[t,x]=m.useState({audioToAudio:null,audioToText:null,textToAudio:null}),f=async(a,s,o)=>{var i;try{c(!0),h(null),v(d=>({...d,[o]:""})),x({audioToAudio:null,audioToText:null,textToAudio:null});const p=(i=document.querySelector('meta[name="csrf-token"]'))==null?void 0:i.getAttribute("content"),n=await fetch(a,{method:"POST",body:s,headers:{"X-CSRF-TOKEN":p||""}});if(!n.ok){const d=await n.json();throw new Error(d.message||"An error occurred")}const T=await n.json();o==="textToAudio"?x(d=>({...d,[o]:T.data.audio_url})):o==="audioToText"?x(d=>({...d,[o]:T.data.text})):o==="audioToAudio"&&x(d=>({...d,[o]:T.data.audio_url})),h("Operation completed successfully!")}catch(p){v(n=>({...n,[o]:p.message})),h("An error occurred during the operation.")}finally{c(!1)}},N=async a=>{var i;a.preventDefault();const s=new FormData,o=a.target.elements.namedItem("audio-to-audio");(i=o==null?void 0:o.files)!=null&&i[0]&&(s.append("audio",o.files[0]),await f(route("texttospeech.audioToAudio"),s,"audioToAudio"))},y=async a=>{var i;a.preventDefault();const s=new FormData,o=a.target.elements.namedItem("audio-to-text");(i=o==null?void 0:o.files)!=null&&i[0]&&(s.append("audio",o.files[0]),await f(route("texttospeech.audioToText"),s,"audioToText"))},k=async a=>{a.preventDefault();const s=new FormData,o=a.target.elements.namedItem("text-to-audio");o!=null&&o.value&&(s.append("text",o.value),await f(route("texttospeech.textToAudio"),s,"textToAudio"))};return e.jsxs(E,{breadcrumbs:O,children:[e.jsx(S,{title:"Text to Speech"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[e.jsxs("div",{className:"grid auto-rows-min gap-4 md:grid-cols-3",children:[e.jsx("div",{className:"border-sidebar-border/70 dark:border-sidebar-border relative h-[200px] overflow-hidden rounded-xl border p-4",children:e.jsxs("form",{onSubmit:N,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(j,{htmlFor:"audio-to-audio",children:"Upload Audio"}),e.jsx(g,{id:"audio-to-audio",name:"audio-to-audio",type:"file",accept:"audio/*",className:"mt-1 block w-full"}),l.audioToAudio&&e.jsx(A,{message:l.audioToAudio})]}),e.jsxs(u,{type:"submit",disabled:r,children:[e.jsx(b,{className:`mr-2 h-4 w-4 ${r?"animate-spin":""}`}),"Process Audio"]})]})}),e.jsx("div",{className:"border-sidebar-border/70 dark:border-sidebar-border relative h-[200px] overflow-hidden rounded-xl border p-4",children:e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(j,{htmlFor:"audio-to-text",children:"Upload Audio"}),e.jsx(g,{id:"audio-to-text",name:"audio-to-text",type:"file",accept:"audio/*",className:"mt-1 block w-full"}),l.audioToText&&e.jsx(A,{message:l.audioToText})]}),e.jsxs(u,{type:"submit",disabled:r,children:[e.jsx(b,{className:`mr-2 h-4 w-4 ${r?"animate-spin":""}`}),"Generate Text"]})]})}),e.jsx("div",{className:"border-sidebar-border/70 dark:border-sidebar-border relative h-[200px] overflow-hidden rounded-xl border p-4",children:e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(j,{htmlFor:"text-to-audio",children:"Enter Text"}),e.jsx(g,{id:"text-to-audio",name:"text-to-audio",type:"text",className:"mt-1 block w-full"}),l.textToAudio&&e.jsx(A,{message:l.textToAudio})]}),e.jsxs(u,{type:"submit",disabled:r,children:[e.jsx(b,{className:`mr-2 h-4 w-4 ${r?"animate-spin":""}`}),"Generate Audio"]})]})})]}),e.jsx("div",{className:"border-sidebar-border/70 dark:border-sidebar-border relative flex min-h-[200px] flex-1 flex-col items-center justify-center overflow-hidden rounded-xl border",children:r?e.jsx(b,{className:"h-8 w-8 animate-spin text-blue-500"}):e.jsxs(e.Fragment,{children:[t.audioToAudio&&e.jsx("a",{href:t.audioToAudio,download:!0,className:"flex items-center gap-2",children:e.jsxs(u,{className:"bg-blue-500 text-white hover:bg-blue-600",children:[e.jsx(w,{className:"mr-2 h-4 w-4"}),"Download Processed Audio"]})}),!t.audioToAudio&&t.audioToText&&!t.textToAudio&&e.jsx(P,{readOnly:!0,value:t.audioToText,className:"w-full rounded border p-2 text-gray-700"}),t.textToAudio&&e.jsx("a",{href:t.textToAudio,download:!0,className:"flex items-center gap-2",children:e.jsxs(u,{className:"bg-blue-500 text-white hover:bg-blue-600",children:[e.jsx(w,{className:"mr-2 h-4 w-4"}),"Download Generated Audio"]})}),!t.audioToAudio&&!t.audioToText&&!t.textToAudio&&e.jsx(F,{className:"absolute inset-0 size-full stroke-neutral-900/20 dark:stroke-neutral-100/20"})]})})]})]})}export{H as default};
