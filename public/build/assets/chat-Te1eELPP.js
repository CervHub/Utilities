import{j as l,r as a,L as se}from"./app-DgFN-T0p.js";import{a as Y,u as j,B as ae}from"./app-logo-icon-DFO7IgS1.js";import{I as ce}from"./input-DvKc0J5m.js";import{P as N}from"./index-DZXRyeE0.js";import{c as ie,P as O,a as y,d as P,e as de}from"./index-CcgBr0v-.js";import{u as ue,A as fe}from"./app-layout-CzxtPhQB.js";import{L as he}from"./loader-circle-DNSIA1aG.js";function me({className:e,...t}){return l.jsx("div",{"data-slot":"card",className:Y("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function pe(e,[t,r]){return Math.min(r,Math.max(t,e))}function be(e,t){return a.useReducer((r,s)=>t[r][s]??r,e)}var B="ScrollArea",[q,ke]=ie(B),[ve,S]=q(B),$=a.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:s="hover",dir:o,scrollHideDelay:n=600,...c}=e,[i,d]=a.useState(null),[m,u]=a.useState(null),[h,f]=a.useState(null),[p,v]=a.useState(null),[w,E]=a.useState(null),[C,R]=a.useState(0),[X,_]=a.useState(0),[D,L]=a.useState(!1),[z,H]=a.useState(!1),b=j(t,T=>d(T)),x=ue(o);return l.jsx(ve,{scope:r,type:s,dir:x,scrollHideDelay:n,scrollArea:i,viewport:m,onViewportChange:u,content:h,onContentChange:f,scrollbarX:p,onScrollbarXChange:v,scrollbarXEnabled:D,onScrollbarXEnabledChange:L,scrollbarY:w,onScrollbarYChange:E,scrollbarYEnabled:z,onScrollbarYEnabledChange:H,onCornerWidthChange:R,onCornerHeightChange:_,children:l.jsx(N.div,{dir:x,...c,ref:b,style:{position:"relative","--radix-scroll-area-corner-width":C+"px","--radix-scroll-area-corner-height":X+"px",...e.style}})})});$.displayName=B;var J="ScrollAreaViewport",K=a.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:s,nonce:o,...n}=e,c=S(J,r),i=a.useRef(null),d=j(t,i,c.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),l.jsx(N.div,{"data-radix-scroll-area-viewport":"",...n,ref:d,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...e.style},children:l.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});K.displayName=J;var g="ScrollAreaScrollbar",G=a.forwardRef((e,t)=>{const{forceMount:r,...s}=e,o=S(g,e.__scopeScrollArea),{onScrollbarXEnabledChange:n,onScrollbarYEnabledChange:c}=o,i=e.orientation==="horizontal";return a.useEffect(()=>(i?n(!0):c(!0),()=>{i?n(!1):c(!1)}),[i,n,c]),o.type==="hover"?l.jsx(Se,{...s,ref:t,forceMount:r}):o.type==="scroll"?l.jsx(xe,{...s,ref:t,forceMount:r}):o.type==="auto"?l.jsx(Q,{...s,ref:t,forceMount:r}):o.type==="always"?l.jsx(U,{...s,ref:t}):null});G.displayName=g;var Se=a.forwardRef((e,t)=>{const{forceMount:r,...s}=e,o=S(g,e.__scopeScrollArea),[n,c]=a.useState(!1);return a.useEffect(()=>{const i=o.scrollArea;let d=0;if(i){const m=()=>{window.clearTimeout(d),c(!0)},u=()=>{d=window.setTimeout(()=>c(!1),o.scrollHideDelay)};return i.addEventListener("pointerenter",m),i.addEventListener("pointerleave",u),()=>{window.clearTimeout(d),i.removeEventListener("pointerenter",m),i.removeEventListener("pointerleave",u)}}},[o.scrollArea,o.scrollHideDelay]),l.jsx(O,{present:r||n,children:l.jsx(Q,{"data-state":n?"visible":"hidden",...s,ref:t})})}),xe=a.forwardRef((e,t)=>{const{forceMount:r,...s}=e,o=S(g,e.__scopeScrollArea),n=e.orientation==="horizontal",c=k(()=>d("SCROLL_END"),100),[i,d]=be("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return a.useEffect(()=>{if(i==="idle"){const m=window.setTimeout(()=>d("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(m)}},[i,o.scrollHideDelay,d]),a.useEffect(()=>{const m=o.viewport,u=n?"scrollLeft":"scrollTop";if(m){let h=m[u];const f=()=>{const p=m[u];h!==p&&(d("SCROLL"),c()),h=p};return m.addEventListener("scroll",f),()=>m.removeEventListener("scroll",f)}},[o.viewport,n,d,c]),l.jsx(O,{present:r||i!=="hidden",children:l.jsx(U,{"data-state":i==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:y(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:y(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),Q=a.forwardRef((e,t)=>{const r=S(g,e.__scopeScrollArea),{forceMount:s,...o}=e,[n,c]=a.useState(!1),i=e.orientation==="horizontal",d=k(()=>{if(r.viewport){const m=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;c(i?m:u)}},10);return A(r.viewport,d),A(r.content,d),l.jsx(O,{present:s||n,children:l.jsx(U,{"data-state":n?"visible":"hidden",...o,ref:t})})}),U=a.forwardRef((e,t)=>{const{orientation:r="vertical",...s}=e,o=S(g,e.__scopeScrollArea),n=a.useRef(null),c=a.useRef(0),[i,d]=a.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=oe(i.viewport,i.content),u={...s,sizes:i,onSizesChange:d,hasThumb:m>0&&m<1,onThumbChange:f=>n.current=f,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:f=>c.current=f};function h(f,p){return Ee(f,c.current,i,p)}return r==="horizontal"?l.jsx(we,{...u,ref:t,onThumbPositionChange:()=>{if(o.viewport&&n.current){const f=o.viewport.scrollLeft,p=F(f,i,o.dir);n.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:f=>{o.viewport&&(o.viewport.scrollLeft=f)},onDragScroll:f=>{o.viewport&&(o.viewport.scrollLeft=h(f,o.dir))}}):r==="vertical"?l.jsx(ge,{...u,ref:t,onThumbPositionChange:()=>{if(o.viewport&&n.current){const f=o.viewport.scrollTop,p=F(f,i);n.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:f=>{o.viewport&&(o.viewport.scrollTop=f)},onDragScroll:f=>{o.viewport&&(o.viewport.scrollTop=h(f))}}):null}),we=a.forwardRef((e,t)=>{const{sizes:r,onSizesChange:s,...o}=e,n=S(g,e.__scopeScrollArea),[c,i]=a.useState(),d=a.useRef(null),m=j(t,d,n.onScrollbarXChange);return a.useEffect(()=>{d.current&&i(getComputedStyle(d.current))},[d]),l.jsx(ee,{"data-orientation":"horizontal",...o,ref:m,sizes:r,style:{bottom:0,left:n.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:n.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":M(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(n.viewport){const f=n.viewport.scrollLeft+u.deltaX;e.onWheelScroll(f),le(f,h)&&u.preventDefault()}},onResize:()=>{d.current&&n.viewport&&c&&s({content:n.viewport.scrollWidth,viewport:n.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:I(c.paddingLeft),paddingEnd:I(c.paddingRight)}})}})}),ge=a.forwardRef((e,t)=>{const{sizes:r,onSizesChange:s,...o}=e,n=S(g,e.__scopeScrollArea),[c,i]=a.useState(),d=a.useRef(null),m=j(t,d,n.onScrollbarYChange);return a.useEffect(()=>{d.current&&i(getComputedStyle(d.current))},[d]),l.jsx(ee,{"data-orientation":"vertical",...o,ref:m,sizes:r,style:{top:0,right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":M(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(n.viewport){const f=n.viewport.scrollTop+u.deltaY;e.onWheelScroll(f),le(f,h)&&u.preventDefault()}},onResize:()=>{d.current&&n.viewport&&c&&s({content:n.viewport.scrollHeight,viewport:n.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:I(c.paddingTop),paddingEnd:I(c.paddingBottom)}})}})}),[Ce,Z]=q(g),ee=a.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:s,hasThumb:o,onThumbChange:n,onThumbPointerUp:c,onThumbPointerDown:i,onThumbPositionChange:d,onDragScroll:m,onWheelScroll:u,onResize:h,...f}=e,p=S(g,r),[v,w]=a.useState(null),E=j(t,b=>w(b)),C=a.useRef(null),R=a.useRef(""),X=p.viewport,_=s.content-s.viewport,D=P(u),L=P(d),z=k(h,10);function H(b){if(C.current){const x=b.clientX-C.current.left,T=b.clientY-C.current.top;m({x,y:T})}}return a.useEffect(()=>{const b=x=>{const T=x.target;(v==null?void 0:v.contains(T))&&D(x,_)};return document.addEventListener("wheel",b,{passive:!1}),()=>document.removeEventListener("wheel",b,{passive:!1})},[X,v,_,D]),a.useEffect(L,[s,L]),A(v,z),A(p.content,z),l.jsx(Ce,{scope:r,scrollbar:v,hasThumb:o,onThumbChange:P(n),onThumbPointerUp:P(c),onThumbPositionChange:L,onThumbPointerDown:P(i),children:l.jsx(N.div,{...f,ref:E,style:{position:"absolute",...f.style},onPointerDown:y(e.onPointerDown,b=>{b.button===0&&(b.target.setPointerCapture(b.pointerId),C.current=v.getBoundingClientRect(),R.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),H(b))}),onPointerMove:y(e.onPointerMove,H),onPointerUp:y(e.onPointerUp,b=>{const x=b.target;x.hasPointerCapture(b.pointerId)&&x.releasePointerCapture(b.pointerId),document.body.style.webkitUserSelect=R.current,p.viewport&&(p.viewport.style.scrollBehavior=""),C.current=null})})})}),W="ScrollAreaThumb",re=a.forwardRef((e,t)=>{const{forceMount:r,...s}=e,o=Z(W,e.__scopeScrollArea);return l.jsx(O,{present:r||o.hasThumb,children:l.jsx(Pe,{ref:t,...s})})}),Pe=a.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:s,...o}=e,n=S(W,r),c=Z(W,r),{onThumbPositionChange:i}=c,d=j(t,h=>c.onThumbChange(h)),m=a.useRef(void 0),u=k(()=>{m.current&&(m.current(),m.current=void 0)},100);return a.useEffect(()=>{const h=n.viewport;if(h){const f=()=>{if(u(),!m.current){const p=Re(h,i);m.current=p,i()}};return i(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[n.viewport,u,i]),l.jsx(N.div,{"data-state":c.hasThumb?"visible":"hidden",...o,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:y(e.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),v=h.clientX-p.left,w=h.clientY-p.top;c.onThumbPointerDown({x:v,y:w})}),onPointerUp:y(e.onPointerUp,c.onThumbPointerUp)})});re.displayName=W;var V="ScrollAreaCorner",te=a.forwardRef((e,t)=>{const r=S(V,e.__scopeScrollArea),s=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&s?l.jsx(ye,{...e,ref:t}):null});te.displayName=V;var ye=a.forwardRef((e,t)=>{const{__scopeScrollArea:r,...s}=e,o=S(V,r),[n,c]=a.useState(0),[i,d]=a.useState(0),m=!!(n&&i);return A(o.scrollbarX,()=>{var h;const u=((h=o.scrollbarX)==null?void 0:h.offsetHeight)||0;o.onCornerHeightChange(u),d(u)}),A(o.scrollbarY,()=>{var h;const u=((h=o.scrollbarY)==null?void 0:h.offsetWidth)||0;o.onCornerWidthChange(u),c(u)}),m?l.jsx(N.div,{...s,ref:t,style:{width:n,height:i,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function I(e){return e?parseInt(e,10):0}function oe(e,t){const r=e/t;return isNaN(r)?0:r}function M(e){const t=oe(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-r)*t;return Math.max(s,18)}function Ee(e,t,r,s="ltr"){const o=M(r),n=o/2,c=t||n,i=o-c,d=r.scrollbar.paddingStart+c,m=r.scrollbar.size-r.scrollbar.paddingEnd-i,u=r.content-r.viewport,h=s==="ltr"?[0,u]:[u*-1,0];return ne([d,m],h)(e)}function F(e,t,r="ltr"){const s=M(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=t.scrollbar.size-o,c=t.content-t.viewport,i=n-s,d=r==="ltr"?[0,c]:[c*-1,0],m=pe(e,d);return ne([0,c],[0,i])(m)}function ne(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(r-e[0])}}function le(e,t){return e>0&&e<t}var Re=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},s=0;return function o(){const n={left:e.scrollLeft,top:e.scrollTop},c=r.left!==n.left,i=r.top!==n.top;(c||i)&&t(),r=n,s=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(s)};function k(e,t){const r=P(e),s=a.useRef(0);return a.useEffect(()=>()=>window.clearTimeout(s.current),[]),a.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(r,t)},[r,t])}function A(e,t){const r=P(t);de(()=>{let s=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(r)});return o.observe(e),()=>{window.cancelAnimationFrame(s),o.unobserve(e)}}},[e,r])}var Te=$,Ae=K,je=te;function Le({className:e,children:t,...r}){return l.jsxs(Te,{"data-slot":"scroll-area",className:Y("relative",e),...r,children:[l.jsx(Ae,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),l.jsx(Ne,{}),l.jsx(je,{})]})}function Ne({className:e,orientation:t="vertical",...r}){return l.jsx(G,{"data-slot":"scroll-area-scrollbar",orientation:t,className:Y("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...r,children:l.jsx(re,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function Xe(){const[e,t]=a.useState(!1),[r,s]=a.useState(""),[o,n]=a.useState([{sender:"bot",text:"Hola, soy CervIA. ¿En qué puedo ayudarte hoy?"}]),c=async h=>{var p;if(h.preventDefault(),!r.trim())return;const f={sender:"user",text:r};n(v=>[...v,f]),s(""),t(!0);try{const v=(p=document.querySelector('meta[name="csrf-token"]'))==null?void 0:p.getAttribute("content"),w=await fetch(route("chat.textToText"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":v||""},body:JSON.stringify({message:r})});if(!w.ok)throw new Error("Error al obtener la respuesta");const E=await w.json(),C={sender:"bot",text:typeof E.message=="string"?E.message:"Lo siento, ocurrió un error inesperado."};n(R=>[...R,C])}catch{n(w=>[...w,{sender:"bot",text:"Lo siento, ocurrió un error."}])}finally{t(!1)}},i=[{title:"Texto a Voz",href:"/text-to-speech"}],d="Sofia Davis",m="m@example.com",u=h=>h.split(" ").map(f=>f[0]).join("").toUpperCase();return l.jsxs(fe,{breadcrumbs:i,children:[l.jsx(se,{title:"Texto a Voz"}),l.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:l.jsxs(me,{className:"bg-card text-card-foreground flex flex-1 flex-col rounded-xl border shadow",children:[l.jsx("div",{className:"flex flex-row items-center space-x-4 p-6",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("span",{className:"bg-primary text-primary-foreground relative flex h-10 w-10 shrink-0 items-center justify-center overflow-hidden rounded-full",children:u(d)}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm leading-none font-medium",children:d}),l.jsx("p",{className:"text-muted-foreground text-sm",children:m})]})]})}),l.jsx(Le,{className:"flex-1 p-6 pt-0",style:{maxHeight:"580px",overflowY:"auto"},children:l.jsx("div",{className:"space-y-4",children:o.map((h,f)=>l.jsx("div",{className:`flex w-max max-w-[75%] flex-col gap-2 rounded-lg px-3 py-2 text-sm ${h.sender==="user"?"bg-primary text-primary-foreground ml-auto":"bg-muted"}`,children:h.text},f))})}),l.jsx("div",{className:"flex items-center p-6 pt-0",children:l.jsxs("form",{className:"flex w-full items-center space-x-2",onSubmit:c,children:[l.jsx(ce,{id:"message",placeholder:"Escribe tu mensaje...",autoComplete:"off",value:r,onChange:h=>s(h.target.value),disabled:e,className:"flex-1"}),l.jsxs(ae,{type:"submit",disabled:e,className:"h-9 w-9 p-0",children:[e?l.jsx(he,{className:"h-4 w-4 animate-spin"}):l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-send",children:[l.jsx("path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"}),l.jsx("path",{d:"m21.854 2.147-10.94 10.939"})]}),l.jsx("span",{className:"sr-only",children:"Enviar"})]})]})})]})})]})}export{Xe as default};
